# Web_Find_Food

React 와 Spring Boot 3를 이용한 프로젝트 입니다.

2025-07-26

- 현재 까지 만든 프로젝트 깃 연동
- 내일 부터 깃에 만든 내용 기입

2025-07-29

- 메인페이지 레이아웃 수정, 컴포넌트 묶는 페이지 따로 만들어서 결합<br/>
  ㄴ> 해당 내용 수정으로 인해 App.js 페이지 내용 수정 완료

- App 페이지 내 Routing 내용 추가 React내 Link 이동과 페이지간 이동을 원활하게 하기 위해 Router내용 추가<br/>
  ㄴ> 해당 내용 수정으로 인한 Layout.jsx 파일 추가 및 App.js 페이지 수정 완료

- 로그인 페이지 useState 훅 기반 컴포넌트 기능 개발 완료, 디자인 부분은 추후에 제작하고 일단 기능 부분에 집중<br/>
  ㄴ> 회원가입 페이지 연동해서 비동기화 방식으로 제작 필요.(다음 우선적으로 개발 할 것!)

  **현재까지 사용한 기술**<br/>
  <img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black">
  <img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=black">
  <img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white">
  <img src="https://img.shields.io/badge/git-F05032?style=for-the-badge&logo=git&logoColor=white">
  <img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white">

  2025-07-30 저녘부터 2025-07-31 새벽까지

  - 로그인 및 회원가입 페이지 프런트 쪽 개발 완료
  - 타 사이트를 이용한 로그인 레이아웃 개발 완료
  - 로그인 사이트 디자인 개발 및 적용 완료
  - 메인 페이지에서 로그인 페이지 동작 확인 완료

  **현재까지 사용한 기술**<br/>
  <img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black">
  <img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=black">
  <img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white">
  <img src="https://img.shields.io/badge/git-F05032?style=for-the-badge&logo=git&logoColor=white">
  <img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white">

2025-08-03

- 예약 페이지 카카오 지도 api 연동 완료
- 웹사이트 header footer 레이아웃 고정 연동 완료
- 카카오 지도 검색창 기능 개발 완료

\*\*느낀점 (useRef 개념 공부 필요, 공부한 내용도 많이 잊어버리므로 개발하면서 지속적으로 습득한 내용 공부 하기)

**현재까지 사용한 기술**</br>
<img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black">
<img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=black">
<img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white">
<img src="https://img.shields.io/badge/git-F05032?style=for-the-badge&logo=git&logoColor=white">
<img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white">

2025-08-05

- 예약 페이지 개발 중 개발 진로 변경
  (아무 대책없이 예약 기능 만들고 있었는데, 강아지 산책에 영감을 받아서 대신 산책을 시켜주는 사이트를 만들면 좋을것 같다고 생각)
- 메인페이지 수정 및 screen 부분 제작 부분 완료(이미지 디자인에 시간 오래 걸림)
- css쪽 너무 잘 모르는거 같아서 모르는 부분 공부하면서 진행 시작, 메인페이지 완료후 백엔드 연동 실시
- 반응형에 일단 너무 투자하지 말고, 일단 기능부터 개발 완료 후 디자인 수정하는 식으로 하기

\*\*느낀점 (디자인은 진짜 어려운 거다 ㅎㅎ;; 개발자도 css 좀 알아야 될거 같아서 모르는 코드 좀 살펴보고 공부 및 디자인 완료 하기)

**현재까지 사용한 기술**</br>
<img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black">
<img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=black">
<img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white">
<img src="https://img.shields.io/badge/git-F05032?style=for-the-badge&logo=git&logoColor=white">
<img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white">

2025-08-09

- 서비스 요금 페이지 개발 완료
- 서비스 요금 산정 및 서비스 종류 선택 완료 및 반영 완료
- 서비스 페이지 디자인 적용 완료 및 footer 기능 및 디자인 개발 요청 지시
- 잘 모르는 디자인 요소 블로그 정리 완료
- (https://velog.io/@shincharl/CSS-%EC%98%A4%EB%8A%98-%EC%82%AC%EC%9A%A9%ED%95%9C-%EB%94%94%EC%9E%90%EC%9D%B8-%EC%86%8D%EC%84%B1-%EB%AF%B8%EB%8B%88%EC%A0%95%EB%A6%AC1)

\*\*느낀점 (공부 다 끝나고 개발하니 시간이 너무 촉박하다. 날잡아서 개발 진행부터 먼저하는 식으로 진행, 이런 날은 이른 공부해야하는 양 줄이고 개발에 집중하기)

**현재까지 사용한 기술**</br>
<img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black">
<img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=black">
<img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white">
<img src="https://img.shields.io/badge/git-F05032?style=for-the-badge&logo=git&logoColor=white">
<img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white">

25-08-11 ~ 25-08-12

# 학습 루프 템플릿

## 1. 문제 (Problem)

- 오늘 학습 중에 마주친 문제나 궁금한 점을 구체적으로 작성하세요.

예)

- 1.  JPA 엔티티 설계 및 어노테이션 사용법
      - @Entity, @Id, @GeneratedValue, @Column(unique = true) 등

- 2.  Spring Boot 실행 및 데이터 초기화 문제
      - data.sql 실행 에러, H2 메모리 DB에서 테이블/컬럼 미존재 오류 해결법
      - spring.jpa.hibernate.ddl-auto=create 설정과 역할

- 3.  Spring Data JPA 기본 메서드 및 Optional 사용법
      - findById(), findOne(), Optional 값 추출, Optional 예외 처리

- 4. JPA @Query 사용 시 nativeQuery vs JPQL 선택과 쿼리 작성법
     - 엔티티 전체 조회 vs 일부 컬럼만 DTO로 조회

- 5. DTO와 엔티티 변환 방법
     - 필요한 필드만 DTO로 반환하는 구조 설계

- 6. Spring 빈 등록 및 의존성 주입 관련 문제
     - @Service 어노테이션 필요성
     - 생성자 주입 시 Bean 미등록 오류 해결법

- 7. Spring REST API 컨트롤러 설계와 React axios 연동
     - JSON 반환과 React에서 axios POST 요청 구현
     - CORS 설정 (@CrossOrigin)과 포트번호 문제

- 8. React에서 로그인/회원가입 폼 작성과 상태관리(useState) 및 에러 처리
     - 폼 필드 상태 관리, submit 핸들러에서 axios 호출 및 에러 메시지 표시

- 9. Spring Boot와 React 연동 시 포트 충돌 및 CORS 이슈 해결법

- 10. Gradle 빌드 실패 및 Spring Boot 실행 오류(롬북 설치 오류) 디버깅 방법

- 11. Spring에서 HTTP 메서드 오류 (HttpRequestMethodNotSupportedException) 원인과 해결

---

## 2. 검색 (Search)

- 문제 해결을 위해 참고한 자료, 링크, 책, 블로그, AI 질문 등을 정리하세요.

설명)

- "axios CORS 설정 방법, React Spring boot 연결방법 등등" 구글 검색

- 코딩 자율학습 스프링 부트 3 자바 백엔드 개발 입문 서적 참고

- 김성현 강사님 인강 Spring 입문 - 코드로 배우는 스프링 부트, 웹 MVC, DB 접근 기술 참고

- ChatGPT, Geminai에 질문

---

## 3. 적용 (Apply)

- 찾은 내용을 바탕으로 시도한 코드나 설정 변경 내역을 기록하세요.

설명)

- 1.  JPA 엔티티 설계 및 어노테이션 사용법

      - @Entity, @Id, @GeneratedValue, @Column(unique = true) 등

      - JPA에서 엔티티 클래스는 DB 테이블과 매핑되는 객체입나다.(자바 클래스)
      - @Entity : 클래스가 엔티티임을 선언
      - @ID : PK 지정
      - @GeneratedValue(stratege = GenerationType.IDENTITY) : PK 자동 생성 전략
      - @Column(unique = true) : 컬럼 속성 지정 , 유니크 속성 지정

![alt text](image-1.png)

- 2.  Spring Boot 실행 및 데이터 초기화 문제

      - data.sql 실행 에러, H2 메모리 DB에서 테이블/컬럼 미존재 오류 해결법
      - spring.jpa.hibernate.ddl-auto=create 설정과 역할

      - data.sql로 초기 데이터를 넣으려면 테이블이 미리 생성되어 있어야 합니다.

      - spring.jpa.hibernate.ddl-auto=create 설정을 하면 앱 실행시 Hibernate가
        엔티티 기준으로 테이블을 생성해 줍니다.

![alt text](image-2.png)

- 3.  Spring Data JPA 기본 메서드 및 Optional 사용법

      - findById(), findOne(), Optional 값 추출, Optional 예외 처리

      - findById() 등은 Optional<T>를 반환합니다.

      - Optional은 NullPointerException 방지를 위해 값이 있을 수도 / 없을 수도 있음을
        감싸는 래퍼입니다.

![alt text](image-3.png)

- 4. JPA @Query 사용 시 nativeQuery vs JPQL 선택과 쿼리 작성법

     - 엔티티 전체 조회 vs 일부 컬럼만 DTO로 조회

     - Native Query : DB에 직접 실행하는 SQL
     - JPQL : JPA 엔티티 기반 쿼리 (객체지향)
     - Native Query는 복잡하거나 DB 특화된 쿼리 시 유용하지만, JPQL 이식성 높음.

![alt text](image-4.png)

- 5. DTO와 엔티티 변환 방법

     - 필요한 필드만 DTO로 반환하는 구조 설계

     - 엔티티 전체를 반환하면 불필요한 데이터가 클라이언트로 넘어가거나, 민감 정보 노출 위헝이 있다.

     - DTO를 별도로 만들어 필요한 데이터만 전송하는 게 실무 권장(코드에선 name 값만 받음)

![alt text](image-5.png)

- 6. Spring 빈 등록 및 의존성 주입 관련 문제

     - @Service 어노테이션 필요성
     - 생성자 주입 시 Bean 미등록 오류 해결법

     - @Service, @Repository 등 어노테이션을 붙여야 Spring이 해당 클래스를 빈으로 등록 할 수 있다.
     - 빈 등록이 안 되면 의존성 주입 시 NoSuchBeanDefinitionException 발생.

![alt text](image-6.png)

- 7. Spring REST API 컨트롤러 설계와 React axios 연동

     - JSON 반환과 React에서 axios POST 요청 구현
     - CORS 설정 (@CrossOrigin)과 포트번호 문제

     - Spring 컨트롤러는 JSON 데이터를 반환하고, React는 axios로 POST/GET 요청해 데이터를 받는다.

![alt text](image-7.png)
![alt text](image-8.png)

- 8. React에서 로그인/회원가입 폼 작성과 상태관리(useState) 및 에러 처리
     - 폼 필드 상태 관리, submit 핸들러에서 axios 호출 및 에러 메시지 표시

![alt text](image-9.png)

- 9. Spring Boot와 React 연동 시 포트 충돌 및 CORS 이슈 해결법

  - React 기본 포트 3000, Spring Boot 기본 포트 8000 차이로 인해 CORS 오류 발생
  - 서버에 @CrossOrigin(origins = "http://localhost: 3000 필요")
  - 리엑트도 axios 설정할때 baseURL : 'http://localhost:8080/api' 필요

![alt text](image-10.png)

- 10. Gradle 빌드 실패 및 Spring Boot 실행 오류(롬북 설치 오류) 디버깅 방법

https://hstory0208.tistory.com/entry/Spring-Lombok%EB%A1%AC%EB%B3%B5%EC%9D%B4%EB%9E%80-%EC%84%A4%EC%B9%98%EB%B6%80%ED%84%B0-%EC%82%AC%EC%9A%A9%EB%B2%95%EA%B9%8C%EC%A7%80

---

## 4. 정리 (Summarize)

- 학습한 내용을 한 문장 또는 핵심 포인트로 정리하고 느낀 점이나 다음 과제를 적으세요.

설명)

- "Spring에서 빈 생성은 @Service 꼭 필요하다"
- "CORS 문제는 프론트와 백엔드 포트 설정이 중요하다"
- "로그인 할때 비밀번호 암호화 해야 할것 같은데 대칭키나 비대칭키 이용해서 다음에 개발하기"
- "롬북은 프로젝트 처음 시작하면 무조껀 깔기"
- "다음 데이터가 지금 넘어갔는데 은행 처럼 제한시간 둬서 자동 로그아웃 하도록 개발 하기"

**현재까지 사용한 기술**</br>
<img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black">
<img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=black">
<img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white">
<img src="https://img.shields.io/badge/git-F05032?style=for-the-badge&logo=git&logoColor=white">
<img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white">
![Spring](https://img.shields.io/badge/spring-%236DB33F.svg?style=for-the-badge&logo=spring&logoColor=white)
![Java](https://img.shields.io/badge/java-%23ED8B00.svg?style=for-the-badge&logo=openjdk&logoColor=white)

25-08-20

# 학습 루프 템플릿

## 1. 문제 (Problem)

- 오늘 학습 중에 마주친 문제나 궁금한 점을 구체적으로 작성하세요.

예)

- 1.  로그인 관련

  - 로그인 성공 후 메인 페이지로 이동하는 방법
  - 로그인 성공 시 사용자 정보를 페이지 간에 전달하는 방법 (state)
  - location.state에서 안전하게 데이터 가져오는 방법

- 2. Layout / Header 관련
     - Layout에서 userData를 받아서 Header에 표시하는 방법
     - 로그인 상태에 따라 로그인 링크 또는 username 표시
     - 로그아웃 버튼 만들기 및 클릭 시 상태 초기화 + 페이지 이동

- 3.  React / 코드 관련
      - API에서 받은 데이터 구조와 코드 속성(username vs objectname) 불일치 문제

---

## 2. 검색 (Search)

- 문제 해결을 위해 참고한 자료, 링크, 책, 블로그, AI 질문 등을 정리하세요.

설명)

- 리액트를 다루는 기술 책 참조

- ChatGPT, Geminai에 질문

---

## 3. 적용 (Apply)

- 찾은 내용을 바탕으로 시도한 코드나 설정 변경 내역을 기록하세요.

설명)

- 1.  로그인 관련
  - 로그인 성공 후 메인 페이지로 이동하는 방법
  - 로그인 성공 시 사용자 정보를 페이지 간에 전달하는 방법 (state)
  - location.state에서 안전하게 데이터 가져오는 방법

(1) - 개념 : React Router의 useNavigate를 사용하면 프로그래밍 방식으로 페이지 이동 가능

![alt text](image-11.png)

     : useNavigate 사용법

     - 1. useNavigate 불러오기

      import {useNavigate} from 'react-router-dom';

     - 2. navigate 함수 생성

     const navigate = useNavigate();

     - 3. 페이지 이동

      (단순 이동)

      navigate('/');

      (뒤로 이동)

      navigate(-1); //브라우저 히스토리에서 한 단계 뒤로

      (앞으로 이동)

      navigate(1); //브라우저 히스토리에서 한 단계 앞으로

      (상태 전달)

      navigate('/',{state : {from : 'login'}});

     (replace 옵션 , 뒤로가기 히스토리에 남기지 않음)

     navigate('/login', {replace: true})
      -> {replace: true }를 추가하면 현재 페이지를 히스토리에서 대체합니다.
      -> 뒤로가기를 눌러도 이전 페이지로 돌아갈 수 없게 됨
      -> 보통 로그인 성공 후 리다이렉트, 권한 없는 페이지 접근 시 로그인으로 강제 이동 같은
         경우에 사용됩니다.

     - 4. 레이아웃에서 받기

      import {useLocation} from "react-router-dom";

      const location = useLocation(); // useLocation() 훅은 현재 URL정보를 가지고 온다.

      {
          pathname: "/current-path",  // 현재 경로
          search: "?query=abc",       // 쿼리 스트링
          hash: "#top",               // 해시
          state: { ... },             // navigate()에서 전달한 상태
          key: "randomKey123"         // location 고유 식별자
      }

      const { userData } = location.state || {}
      -> location.state가 없을 경우 대비로 || 을 사용하여 없다면 {} 실행해 undefined 에러 방지

- 2. Layout / Header 관련

     - Layout에서 userData를 받아서 Header에 표시하는 방법
     - 로그인 상태에 따라 로그인 링크 또는 username 표시
     - 로그아웃 버튼 만들기 및 클릭 시 상태 초기화 + 페이지 이동

     {userData ? <p>userData.Objectname</p> : <Link to="signin">로그인</Link>}

     - 부모 -> 자식으로 props 전달
     - 로그인 상태에 따라 UI 조건부 렌더링

     const [userData, setUserData] = useState(location.state?.userData || null);

     const handleLogout = () => {
     setUserData(null); // 로그아웃을 한다면 레이아웃에서 useState값을 null로 바꾸고
     navigate("/"); // 초기화면으로 이동
     };

     - 옵셔널 체이닝 사용(location.state?.userData || null)
       - location.state가 존재하면 (location.state.userData 실행) 그 안의 userData를 가져옴
       - 없으면 null 실행

---

## 4. 정리 (Summarize)

- 학습한 내용을 한 문장 또는 핵심 포인트로 정리하고 느낀 점이나 다음 과제를 적으세요.

설명)

- 로그인할때 useNavigate()로 페이지 이동, navigate('/',{state : {from : 'login'}}); 로 값 전달
- 항상 어떠한 값이 변경될때 useState사용한다고 생각하기
- const { userData } = location.state || {} 구조분해 할당 이렇게 사용하면
  location.state.userData 이다.
- 데이터 받을 때는 useNavigate()가 전달한 값을 useLocation()으로 데이터를 받아야 한다.

- useNavigate() -> 브라우저에서 페이지 이동 + 상태 전달
- useLocation() -> 브라우저에서 현재 URL과 상태 확인

- 이거 기본 라우터 방법 (SPA) 사용하는 건데 서버 사이드 랜더링 할때는 못쓴다(참고)

**현재까지 사용한 기술**</br>
<img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black">
<img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=black">
<img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white">
<img src="https://img.shields.io/badge/git-F05032?style=for-the-badge&logo=git&logoColor=white">
<img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white">
![Spring](https://img.shields.io/badge/spring-%236DB33F.svg?style=for-the-badge&logo=spring&logoColor=white)
![Java](https://img.shields.io/badge/java-%23ED8B00.svg?style=for-the-badge&logo=openjdk&logoColor=white)

2025/08/24

오늘 개발 및 학습한 중요한 내용 정리

(프론트 엔드)

1. React에서 Form과 버튼 동작 구분

- form 태그 내부의 <button>은 기본적으로 type="submit" -> form의 onSubmit 실행
- type = "button"을 줘야 단순 클릭 이벤트만 발생 -> form 제출 X

** 로그인 화면의 회원가입 버튼 : type="button" (화면 전환용)
** 회원가입 화면의 회원가입 버튼 : type = "submit" (데이터 제출용)

2.  React 상태 관리로 화면 전환 제어

- 상태 변수(isLogin / chnage)를 두고, 값에 따라 다른 화면 렌더링

{isLogin ? <LoginForm /> : <SignupForm />}

-> 조건부 렌더링(Conditional Rendering) + 상태(State)로 페이지 전환 없이 화면을 바꿀 수 있다.
-> 실제 라우팅 없이도 UX 개선 가능

3. 에러 처리 & 사용자 경험(UX)

- 서버에서 내려온 에러 메시지를 error.response.data.message로 처리
- 서버가 죽었거나 네트워크 문제일 경우 fallback => 네트워크 에러

-> 클라이언트 개발에서 에러 처리를 구체적으로 분리하면 UX가 크게 향상된다.
-> form 입력값 검증(프론트) + 서버 검증(백엔드) 모두 필요하다.

(백엔드)

1. @Transactional

- @Transactional은 JPA 전용이 아닌 Spring 프레임워크 기능
- 예외 발생 -> Rollback, 정상 종료 -> Commit

2. 전역적으로 CORS(Cross-Origin Resource Sharing) 정책 설정

![alt text](image-12.png)

3. @RequestBody

- Spring MVC에서 클라이언트가 보낸 HTTP 요청 본문(body)을 자바 객체로 변환해주는 역할을 함
- 클라이언트에서 POST, PUT 요청을 보낼 때
- 요청 데이터가 JSON 형식일 경우

![alt text](image-13.png)

**현재까지 사용한 기술**</br>
<img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black">
<img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=black">
<img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white">
<img src="https://img.shields.io/badge/git-F05032?style=for-the-badge&logo=git&logoColor=white">
<img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white">

25/08/26

React + MUI 예약 폼 만들기 : 달력 & 시간 선택 입력창 구현

1. 페이지 구조

- 페이지는 크게 두 부분으로 나눈다.

  1.  왼쪽 이미지 영역
      - 메인 이미지와 텍스트 오버레이
  2.  오른쪽 예약 폼 영역
      - 날짜 선택 입력
      - 시간 선택 입력 (MUI TimePicker 사용)
      - 강아지 정보 입력
      - 제출 버튼

- Flexbox로 좌우 배치했고, 화면이 작아지면 세로로 쌓이도록 반응형 처리했습니다.

![alt text](image-14.png)

2. 날짜 선택 입력창 (Calendar)

- React에서 달력을 구현할 때는 직접 만든 CalendarBasic 컴포넌트를 사용했습니다.
- 외부 클릭시 달력 자동 닫기 기능은 useState + onClick으로 간단히 처리했습니다.

![alt text](image-15.png)

- 클릭하면 달력이 나타나고, 외부 클릭 시 닫히도록 구현
- position: absolute + z-index로 팝업 겹침 문제 방지

3. 시간 선택 입력창(MUI TimePicker)

- MUI TimePicker를 사용하면 AM/PM 선택과 숫자 입력이 깔끔하게 처리됩니다.
- 한글 로케일 적용과 placeholder, 입력 제한 등도 가능
- 버전 업그레이드로 인한 오류가 발생할 수 있음 V4로 코드 짯다가 5시간 허비...

![alt text](image-16.png)

- LocalizationProvider + AdapterDateFns로 한국어 로케일 적용

- slotProps.textField를 활용하면 placeholder, width, 입력 제한 설정 가능

- 드롭다운과 숫자 입력 스타일 문제 거의 없음 → MUI 내부 스타일 사용

4. 숫자 입력 제한 (견종 나이)

![alt text](image-17.png)

✅ 오늘 핵심 정리

1. FlexBox로 좌우 레이아웃 구성 -> 반응형 대응
2. 달력 클릭 시 팝업 표시 + 외부 클릭 시 자동 닫기
3. MUI TimePicker 활용 -> 숫자 입력과 AM/PM 드롭다운 처리 간편
4. 숫자 입력 제한 -> 정규식 /^\d\*$/ 사용

어려웠던 점

1. 어떤 리액트 라이브러리가 있는지 잘모름 (즉시 찾아봐서 적용하는 점....)
2. useState 넘기고 받고 하는 흐름 버벅거림
3. 아무래도 프로젝트를 여러개 해야 이런점들이 개션될 것이라고 생각 됨

**현재까지 사용한 기술**</br>
<img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black">
<img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=black">
<img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white">
<img src="https://img.shields.io/badge/git-F05032?style=for-the-badge&logo=git&logoColor=white">
<img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white">

25/08/31

React에서 kakao Map으로 거리 측정 & 지역 검색 구현하기

1. Kakao Map SDK 로드

- React에서는 Kakao Map SDK를 직접 HTML에 넣는 대신 동적으로 script를 로드하고,
  로딩 완료 후 지도를 초기화합니다.

  <div class="colorscripter-code" style="color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#fafafa;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #e5e5e5"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#666;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%">useEffect(()&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span><span style="color:#ff3399"></span><span style="color:#a71d5d">&gt;</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">const</span>&nbsp;loadKakaoMap&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span>&nbsp;()&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span><span style="color:#ff3399"></span><span style="color:#a71d5d">&gt;</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">if</span>(<span style="color:#ff3399"></span><span style="color:#a71d5d">!</span><span style="color:#066de2">window</span>.kakao){</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">const</span>&nbsp;script&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#066de2">document</span>.createElement(<span style="color:#63a35c">"script"</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;script.src&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#999999">//&nbsp;libraries&nbsp;=&nbsp;service&nbsp;가&nbsp;있어야&nbsp;주소&nbsp;검색(Geocoder),&nbsp;거리&nbsp;계산&nbsp;기능을&nbsp;쓸수&nbsp;있다.</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#63a35c">"https://dapi.kakao.com/v2/maps/sdk.js?appkey=YOUR_APP_KEY&amp;libraries=services&amp;autoload=false"</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;script.async&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#a71d5d">true</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;script.<span style="color:#066de2">onload</span>&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span>&nbsp;()&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span><span style="color:#ff3399"></span><span style="color:#a71d5d">&gt;</span>&nbsp;<span style="color:#066de2">window</span>.kakao.maps.load(initMap);&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#066de2">document</span>.head.appendChild(script);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color:#a71d5d">else</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#066de2">window</span>.kakao.maps.load(initMap);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//&nbsp;initMap이&nbsp;핵심&nbsp;로직(지도&nbsp;초기화,&nbsp;이벤트&nbsp;등록)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//&nbsp;initMap은&nbsp;kakao&nbsp;Maps&nbsp;SDK가&nbsp;있어야&nbsp;실행&nbsp;가능,&nbsp;그래서&nbsp;load()&nbsp;안에서&nbsp;호출해야&nbsp;함.</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;};</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;loadKakaoMap();</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">},&nbsp;[address]);&nbsp;<span style="color:#999999">//&nbsp;주소가&nbsp;바뀌면&nbsp;다시&nbsp;로드</span></div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#e5e5e5text-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#e5e5e5;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>

2. 주소 -> 좌표 변환

- 사용자가 입력한 지역명으로 지도 중심을 이동시키려면 kakao.maps.services.Geocoder를 사용해야 한다.

<div class="colorscripter-code" style="color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#fafafa;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #e5e5e5"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#666;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div><div style="line-height:130%">31</div><div style="line-height:130%">32</div><div style="line-height:130%">33</div><div style="line-height:130%">34</div><div style="line-height:130%">35</div><div style="line-height:130%">36</div><div style="line-height:130%">37</div><div style="line-height:130%">38</div><div style="line-height:130%">39</div><div style="line-height:130%">40</div><div style="line-height:130%">41</div><div style="line-height:130%">42</div><div style="line-height:130%">43</div><div style="line-height:130%">44</div><div style="line-height:130%">45</div><div style="line-height:130%">46</div><div style="line-height:130%">47</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#a71d5d">const</span>&nbsp;geocoder&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#a71d5d">new</span>&nbsp;kakao.maps.services.Geocoder();</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">geocoder.addressSearch(address,&nbsp;(result,&nbsp;status)&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span><span style="color:#ff3399"></span><span style="color:#a71d5d">&gt;</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">let</span>&nbsp;mapCenter;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">if</span>&nbsp;(status&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span><span style="color:#ff3399"></span><span style="color:#a71d5d">=</span><span style="color:#ff3399"></span><span style="color:#a71d5d">=</span>&nbsp;kakao.maps.services.Status.OK)&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapCenter&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#a71d5d">new</span>&nbsp;kakao.maps.LatLng(result[<span style="color:#0099cc">0</span>].y&nbsp;,&nbsp;result[<span style="color:#0099cc">0</span>].x);&nbsp;<span style="color:#999999">//&nbsp;위도,&nbsp;경도</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color:#a71d5d">else</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapCenter&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#a71d5d">new</span>&nbsp;kakao.maps.LatLng(<span style="color:#0099cc">33.</span><span style="color:#0099cc">450701</span>,&nbsp;<span style="color:#0099cc">126.</span><span style="color:#0099cc">570667</span>);&nbsp;<span style="color:#999999">//&nbsp;기본&nbsp;좌표</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color:#999999">//&nbsp;주소가&nbsp;잘못되면&nbsp;기본&nbsp;좌표를&nbsp;지정</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">const</span>&nbsp;map&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#a71d5d">new</span>&nbsp;kakao.maps.Map()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">/*&nbsp;status&nbsp;확인</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">&nbsp;&nbsp;&nbsp;&nbsp;Status.OK&nbsp;→&nbsp;주소가&nbsp;정확히&nbsp;변환됨</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">&nbsp;&nbsp;&nbsp;&nbsp;Status.ZERO_RESULT&nbsp;→&nbsp;해당&nbsp;주소에&nbsp;맞는&nbsp;좌표가&nbsp;없음</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">&nbsp;&nbsp;&nbsp;&nbsp;Status.ERROR&nbsp;→&nbsp;요청&nbsp;중&nbsp;에러&nbsp;발생&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">*/</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">/*&nbsp;Result&nbsp;구조</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999"></span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">[</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">&nbsp;&nbsp;{</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">&nbsp;&nbsp;&nbsp;&nbsp;"address_name":&nbsp;"서울특별시&nbsp;강남구&nbsp;삼성동&nbsp;123-45",</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">&nbsp;&nbsp;&nbsp;&nbsp;"y":&nbsp;"37.508772",</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">&nbsp;&nbsp;&nbsp;&nbsp;"x":&nbsp;"127.063447",</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">&nbsp;&nbsp;&nbsp;&nbsp;"road_address":&nbsp;{</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"address_name":&nbsp;"서울특별시&nbsp;강남구&nbsp;테헤란로&nbsp;123",</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"y":&nbsp;"37.508772",</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"x":&nbsp;"127.063447"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">&nbsp;&nbsp;&nbsp;&nbsp;},</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">&nbsp;&nbsp;&nbsp;&nbsp;"region_1depth_name":&nbsp;"서울특별시",</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">&nbsp;&nbsp;&nbsp;&nbsp;"region_2depth_name":&nbsp;"강남구",</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">&nbsp;&nbsp;&nbsp;&nbsp;"region_3depth_name":&nbsp;"삼성동",</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">&nbsp;&nbsp;&nbsp;&nbsp;"mountain_yn":&nbsp;"N",</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">&nbsp;&nbsp;&nbsp;&nbsp;"main_address_no":&nbsp;"123",</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">&nbsp;&nbsp;&nbsp;&nbsp;"sub_address_no":&nbsp;"45",</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">&nbsp;&nbsp;&nbsp;&nbsp;"zip_code":&nbsp;"06174"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">&nbsp;&nbsp;}</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">]</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999"></span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999"></span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999"></span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">*/</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">});</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#e5e5e5text-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#e5e5e5;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>

- 주소가 잘못되면 기본 좌표를 지정

3. 거리 측정 로직

- 클릭 시 새로운 점 추가
- 마우스 이동 시 현재 선 길이 실시간 표시
- 우클릭 시 측정 종료

<div class="colorscripter-code" style="color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#fafafa;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #e5e5e5"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#666;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#a71d5d">let</span>&nbsp;drawingFlag&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#0099cc">false</span>;&nbsp;<span style="color:#999999">//&nbsp;측정&nbsp;중인지&nbsp;아닌지를&nbsp;체크하는&nbsp;불린값</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#a71d5d">let</span>&nbsp;clickLine,&nbsp;moveLine,&nbsp;distanceOverlay;&nbsp;<span style="color:#999999">//&nbsp;마우스&nbsp;클릭으로&nbsp;생기는&nbsp;실선,&nbsp;아우스&nbsp;따라가는&nbsp;선,&nbsp;총거리&nbsp;표시&nbsp;오버레이</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">kakao.maps.<span style="color:#066de2">event</span>.addListener(map,&nbsp;<span style="color:#63a35c">"click"</span>,&nbsp;(mouseEvent)&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span><span style="color:#ff3399"></span><span style="color:#a71d5d">&gt;</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#a71d5d">const</span>&nbsp;clickPosition&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span>&nbsp;mouseEvent.latLng;&nbsp;<span style="color:#999999">//&nbsp;클릭한&nbsp;좌표를&nbsp;가져옴</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#a71d5d">if</span>&nbsp;(<span style="color:#ff3399"></span><span style="color:#a71d5d">!</span>drawingFlag)&nbsp;{&nbsp;<span style="color:#999999">//&nbsp;아직&nbsp;거리&nbsp;측정&nbsp;시작&nbsp;전</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;drawingFlag&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#a71d5d">true</span>;&nbsp;<span style="color:#999999">//&nbsp;클릭하면&nbsp;측정&nbsp;시작</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;clickLine&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#a71d5d">new</span>&nbsp;kakao.maps.Polyline({&nbsp;...&nbsp;});&nbsp;&nbsp;<span style="color:#999999">//&nbsp;클릭한&nbsp;위치를&nbsp;기준으로&nbsp;Polyline(선)&nbsp;생성</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;moveLine&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#a71d5d">new</span>&nbsp;kakao.maps.Polyline({&nbsp;...&nbsp;});&nbsp;<span style="color:#999999">//&nbsp;마우스를&nbsp;움직일&nbsp;때&nbsp;보여줄&nbsp;임시&nbsp;선&nbsp;생성</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;}&nbsp;<span style="color:#a71d5d">else</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">const</span>&nbsp;path&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span>&nbsp;clickLine.getPath();&nbsp;<span style="color:#999999">//&nbsp;이미&nbsp;거리&nbsp;측정&nbsp;중이면&nbsp;클릭한&nbsp;좌표를&nbsp;clickLine에&nbsp;추가</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;path.push(clickPosition);&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;clickLine.setPath(path);&nbsp;<span style="color:#999999">//&nbsp;선을&nbsp;새&nbsp;좌표까지&nbsp;확장</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">});</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">//&nbsp;마우스&nbsp;이동</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">kakao.maps.<span style="color:#066de2">event</span>.addListener(map,&nbsp;<span style="color:#63a35c">"mousemove"</span>,&nbsp;(mouseEvent)&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span><span style="color:#ff3399"></span><span style="color:#a71d5d">&gt;</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#a71d5d">if</span>&nbsp;(<span style="color:#ff3399"></span><span style="color:#a71d5d">!</span>drawingFlag)&nbsp;<span style="color:#a71d5d">return</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#a71d5d">const</span>&nbsp;path&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span>&nbsp;clickLine.getPath();</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#a71d5d">const</span>&nbsp;movepath&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span>&nbsp;[path[path.<span style="color:#066de2">length</span>&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">-</span>&nbsp;<span style="color:#0099cc">1</span>],&nbsp;mouseEvent.latLng];&nbsp;<span style="color:#999999">//&nbsp;마지막&nbsp;클릭&nbsp;지점,&nbsp;현재&nbsp;마우스&nbsp;위치</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;moveLine.setPath(movepath);&nbsp;<span style="color:#999999">//&nbsp;두&nbsp;점을&nbsp;연결해서&nbsp;moveLine에&nbsp;임시&nbsp;선을&nbsp;그림</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;moveLine.setMap(map);&nbsp;<span style="color:#999999">//&nbsp;지도에&nbsp;표시</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">});</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#e5e5e5text-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#e5e5e5;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>

1. 첫 클릭 -> 측정 시작, 선 생성
2. 두 번째 클릭 이후 -> 클릭한 위치 추가, 선 확장
3. 마우스 이동 중 -> 마지막 클릭 위치와 마우스 위치 사이 임시 선 표시

4. React 상태 관리와 거리 전달

- React 컴포넌트 안에서 총 거리 상태를 관리하고, 부모 컴포넌트에 전달하려면 useState + props 콜백을 사용합니다.

<div class="colorscripter-code" style="color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#fafafa;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #e5e5e5"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#666;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#a71d5d">const</span>&nbsp;[totalDistance,&nbsp;setTotalDistance]&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span>&nbsp;useState(<span style="color:#0099cc">0</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">setTotalDistance(distance);</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#a71d5d">if</span>&nbsp;(onDistanceChange)&nbsp;onDistanceChange(distance);&nbsp;<span style="color:#999999">//&nbsp;부모에게&nbsp;전달</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">//&nbsp;-&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399"></span><span style="color:#a71d5d">&lt;</span>Movingdistance</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;address<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span>{`${selectedRegion}&nbsp;${selectedDong}`}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;onDistanceChange<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span>{(distance)&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span><span style="color:#ff3399"></span><span style="color:#a71d5d">&gt;</span>&nbsp;setTotalDistance(distance)}</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399"></span><span style="color:#a71d5d">/</span><span style="color:#ff3399"></span><span style="color:#a71d5d">&gt;</span></div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#e5e5e5text-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#e5e5e5;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>

- ESLint 경고가 나면, 콜백 함수를 useCallback으로 감싸거나 dependency 배열에 넣어야 한다.

5. 입력값과 총거리 표시

<div class="colorscripter-code" style="color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#fafafa;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #e5e5e5"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#666;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399"></span><span style="color:#a71d5d">&lt;</span>input</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;type<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span><span style="color:#63a35c">"text"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;placeholder<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span><span style="color:#63a35c">"코스&nbsp;선택&nbsp;(마우스&nbsp;우측&nbsp;클릭&nbsp;종료)"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;readOnly</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;value<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span>{totalDistance&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">&gt;</span>&nbsp;<span style="color:#0099cc">0</span>&nbsp;?&nbsp;`${totalDistance}&nbsp;m`&nbsp;:&nbsp;<span style="color:#63a35c">""</span>}</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399"></span><span style="color:#a71d5d">/</span><span style="color:#ff3399"></span><span style="color:#a71d5d">&gt;</span></div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#e5e5e5text-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#e5e5e5;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>

- placeholder는 value가 비어 있을 때만 보인다.

느낀점

- API 분석이 작성보다 시간이 더 오래 걸린다
- API를 잘 사용하기만 해도 절반 이상이 해결
- 과거 API는 바닐라 js로 된 경우 허다 ㅎㅎ

**현재까지 사용한 기술**</br>
<img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black">
<img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=black">
<img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white">
<img src="https://img.shields.io/badge/git-F05032?style=for-the-badge&logo=git&logoColor=white">
<img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white">
![Spring](https://img.shields.io/badge/spring-%236DB33F.svg?style=for-the-badge&logo=spring&logoColor=white)
![Java](https://img.shields.io/badge/java-%23ED8B00.svg?style=for-the-badge&logo=openjdk&logoColor=white)
